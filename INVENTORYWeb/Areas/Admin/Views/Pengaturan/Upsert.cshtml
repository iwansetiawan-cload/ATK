@model INVENTORYWeb.Models.ApplicationUser

<div class="pcoded-content">
    <div class="page-header">
        <div class="page-block">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <div class="page-header-title">
                        <h5 class="m-b-10">User Akses</h5>
                        <p class="m-b-0">Input Data User</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="page-footer-title text-right">
                        <h4 class="m-b-0"><a href="/" class="text-white">Help</a> </h4>
                    </div>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a asp-area="Admin" asp-controller="Pengaturan" asp-action="Index"> <i class="fa fa-home"></i></a></li>
                        <li class="breadcrumb-item"><a asp-area="Admin" asp-controller="Pengaturan" asp-action="Index">Pengaturan User</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="pcoded-inner-content">
        <!-- Main-body start -->
        <div class="main-body">
            <div class="page-wrapper">
                <!-- Page-body start -->
                <div class="page-body">
                    <form method="post">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Update Data</h5>
                                    </div>
                                    <div class="card-block">
                                        
                                        <div class="row">
                                            <div class="col-sm-12 col-xl-8 m-b-30">
                                                <input type="hidden" asp-for="Id" class="form-control" />
                                                <input type="hidden" asp-for="Name" class="form-control" />
                                                <input type="hidden" asp-for="UserName" class="form-control" />
                                               @*  <input type="hidden" asp-for="Role" class="form-control" /> *@
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">User Login</label>
                                                    <div class="col-sm-8">
                                                        <input asp-for="Name" class="form-control" disabled>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">No Telepon</label>
                                                    <div class="col-sm-8">
                                                        <input asp-for="PhoneNumber" class="form-control" disabled>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">Nama Lengkap</label>
                                                    <div class="col-sm-8">
                                                        <input asp-for="FullName" class="form-control">
                                                        <span asp-validation-for="FullName" class="text-danger"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">Email</label>
                                                    <div class="col-sm-8">
                                                        <input asp-for="Email" class="form-control" autocomplete="username" aria-required="true" />
                                                        <span class="form-bar"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">Status</label>
                                                    <div class="col-sm-8">
                                                        <div class="form-radio">
                                                            <div class="radio radiofill radio-primary radio-inline">
                                                                <label>
                                                                    <input asp-for="LockoutEnabled" type="radio" name="LockoutEnabled" value="True" checked>
                                                                    <i class="helper"></i>Active
                                                                </label>
                                                                
                                                            </div>
                                                            <div class="radio radiofill radio-primary radio-inline">
                                                                <label>
                                                                    <input asp-for="LockoutEnabled" type="radio" name="LockoutEnabled" value="False" >
                                                                    <i class="helper"></i>Inactive
                                                                </label>                                                                
                                                            </div>                                                            
                                                           
                                                        </div>
                                                        
                                                    </div>
                                              
                                                </div>
                                         
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">User Roles</label>
                                                    <div class="col-sm-8">
                                                        <select asp-for="Role" asp-items="@ViewBag.RoleList" class="form-control form-select">
                                                            <option disabled selected>-Select Role-</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                @if (@Model.RolesName != "Users")
                                                {
                                                    <div class="form-group row">
                                                        <label class="col-sm-4 col-form-label">User Profile S1</label>
                                                        <div class="col-sm-8">
                                                            <div class="input-group input-group-button">
                                                                <input type="hidden" asp-for="UserIdS1" class="form-control" id="idS1" />
                                                                <input asp-for="UserNameS1" class="form-control" style="row-gap" id="userNameS1" disabled />
                                                                <div class="input-group-append">
                                                                    <button class="btn btn-primary" data-toggle="modal" data-target="#lookupUserProfile" type="button"><i class="fa fa-binoculars"></i></button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                               
                                            </div>

                                        </div>
                                    </div>

                                </div>
                                <div class="row text-center">
                                    <div class="col-sm-12 invoice-btn-group text-center">
                                        <button type="submit" class="btn btn-primary btn-print-invoice m-b-10 btn-sm waves-effect waves-light m-r-20"><i class="icofont icofont-save"></i>Simpan</button>
                                        <a type="button" class="btn btn-danger waves-effect m-b-10 btn-sm waves-light" asp-action="Index"><i class="icofont icofont-ui-close"></i>Batal</a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </form>

                </div>
                <!-- Page-body end -->
            </div>
        </div>
    </div>
</div>
<div class="md-overlay"></div>

<!-- Modal -->
<div class="modal fade" id="lookupUserProfile" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="lookupProjectLabel">Cari Data User S1</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="card">

                    <div class="card-block">
                        <div class="dt-responsive table-responsive">
                            <table id="tblDataUserProfile" class="table table-striped table-bordered nowrap" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>Nama Depan</th>
                                        <th>Nama Belakang</th>
                                        <th>NIK</th>
                                        <th>No Tlp</th>
                                        <th style="display:none">Id</th>
                                    </tr>
                                </thead>

                            </table>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript">

        $(document).ready(function () {
            loadDataUserProfile();
        });
        function loadDataUserProfile() {
            var url = "@Url.Action("GetAllUserS1", "Pengaturan", new { Area = "Admin" })";
            dataTable = $('#tblDataUserProfile').DataTable({
                "ajax": {
                    "url": url,
                    'method': "GET"
                },
                "columns": [
                    { "data": "firstname", "autoWidth": true },
                    { "data": "lastname", "autoWidth": true },
                    { "data": "nik", "autoWidth": true },
                    { "data": "phone", "autoWidth": true },
                    { "data": "id", "autoWidth": true }

                ],
                "createdRow": function (row, data, index) {
                    $(row).attr('onclick', 'select_row(this)');
                    $(row).attr('data-dismiss', 'modal');
                    $('td', row).eq(4).attr('style', 'display:none;');
                }
            });
        }
        function select_row(obj) {
            var name = $('td', obj).eq(0).html().trim();
            var Id = $('td', obj).eq(4).html().trim();
            $('#userNameS1').val(name);
            $('#idS1').val(Id);
        }

    </script>
}


